<div class=section>

<div class=entry>

<div class='content hidden'>

<p>1.1 Live Coding</p>

<h1>Live Coding</h1>

<p>One of the most exciting aspects of Sonic Pi is that it enables you to
write and <em>modify code live</em> to make music, just like you might perform
live with a guitar. This means that given some practice you can take
Sonic Pi on stage and gig with it.</p>

<h2>Free your mind</h2>

<p>Before we get into the real details of how Sonic Pi works in the rest of
this tutorial, I'd like to give you an experience of what it's like to
live code. Don't worry if you don't understand much (or any) of
this. Just try to hold onto your seats and enjoy...</p>

<h2>A live loop</h2>

<p>Let's get started, copy the following code into an empty buffer:</p>

<p><code>
live_loop :flibble do
  sample :bd_haus, rate: 1
  sleep 0.5
end
</code></p>

<p>Now, press the <code>Run</code> button and you'll hear a nice fast bass drum
beating away. If at any time you wish to stop the sound just hit the
<code>Stop</code> button. Although don't hit it just yet... Instead, follow these steps:</p>

<ol>
<li>Make sure the bass drum sound is still running</li>
<li>Change the <code>sleep</code> value from <code>0.5</code> to something higher like <code>1</code>.</li>
<li>Press the <code>Run</code> button again</li>
<li>Notice how the drum speed has changed.</li>
<li>Finally, <em>remember this moment</em>, this is the first time you've live
coded with Sonic Pi and it's unlikely to be your last...</li>
</ol>

<p>Ok, that was simple enough. Let's add something else into the mix. Above
<code>sample :bd_haus</code> add the line <code>sample :ambi_choir, rate: 0.3</code>. Your
code should look like this:</p>

<p><code>
live_loop :flibble do
  sample :ambi_choir, rate: 0.3
  sample :bd_haus, rate: 1
  sleep 1
end
</code></p>

<p>Now, play around. Change the rates - what happens when you use high
values, or small values or negative values? See what happens when you
change the <code>rate:</code> value for the <code>:ambi_choir</code> sample just slightly (say
to <code>0.29</code>). What happens if you choose a really small <code>sleep</code> value? See
if you can make it go so fast your computer will stop with an error
because it can't keep up (if that happens, just choose a bigger <code>sleep</code>
time and hit <code>Run</code> again).</p>

<p>Try commenting one of the <code>sample</code> lines out by adding a <code>#</code> to the
beginning:</p>

<p>```
live<em>loop :flibble do
  sample :ambi</em>choir, rate: 0.3</p>

<h1>sample :bd_haus, rate: 1</h1>

<p>sleep 1
end
```</p>

<p>Notice how it tells the computer to ignore it, so we don't hear it. This
is called a comment. In Sonic Pi we can use comments to remove and add
things into the mix.</p>

<p>Finally, let me leave you something fun to play with. Take the code below,
and copy it into a spare buffer. Now, don't try to understand it too
much other than see that there are two loops - so two things going round
at the same time. Now, do what you do best - experiment and play
around. Here are some suggestions:</p>

<ul>
<li>Try changing the blue <code>rate:</code> values to hear the sample sound change.</li>
<li>Try changing the <code>sleep</code> times and hear that both loops can spin round
at different rates.</li>
<li>Try uncommenting the sample line (remove the <code>#</code>) and enjoy the sound
of the guitar played backwards.</li>
<li>Try changing any of the blue <code>mix:</code> values to numbers between <code>0</code> (not
in the mix) and <code>1</code> (fully in the mix).</li>
</ul>

<p>Remember to press <code>Run</code> and you'll hear the change next time the loop
goes round. If you end up in a pickle, don't worry - hit <code>Stop</code>, delete
the code in the buffer and paste a fresh copy in and you're ready to
jam again. Making mistakes is how you'll learn the quickest...</p>

<p>```
live<em>loop :guit do
  with</em>fx :echo, mix: 0.3, phase: 0.25 do
    sample :guit_em9, rate: 0.5
  end</p>

<h1>sample :guit_em9, rate: -0.5</h1>

<p>sleep 8
end</p>

<p>live<em>loop :boom do
  with</em>fx :reverb, room: 1 do
    sample :bd_boom, amp: 10, rate: 1
  end
  sleep 8
end
```</p>

<p>Now, keep playing and experimenting until your curiosity about how this
all actually works kicks in and you start wondering what else you can do
with this. You're now ready to read the rest of the tutorial.</p>

<p>So what are you waiting for...</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>1.2 Exploring the Interface</p>

<h1>The Sonic Pi Interface</h1>

<p>Sonic Pi has a very simple interface for coding music. Let's spend a
little time exploring it.</p>

<p><img src="assets/img/GUI.png" alt="Sonic Pi Interface" title="" /></p>

<ul>
<li><em>A</em> - Play Controls</li>
<li><em>B</em> - Editor Controls</li>
<li><em>C</em> - Info and Help</li>
<li><em>D</em> - Code Editor</li>
<li><em>E</em> - Prefs Panel</li>
<li><em>F</em> - Log Viewer</li>
<li><em>G</em> - Help System</li>
<li><em>H</em> - Scope Viewer</li>
</ul>

<h2>A. Play Controls</h2>

<p>These pink buttons are the main controls for starting and stopping
sounds. There's the <em>Run</em> button for running the code in the editor,
<em>Stop</em> for stopping all running code, <em>Save</em> for saving the code to an
external file and <em>Record</em> to create a recording (a WAV file) of the
sound playing.</p>

<h2>B. Editor Controls</h2>

<p>These orange buttons allow you to manipulate the code editor. The <em>Size
+</em> and <em>Size -</em> buttons allow you to make the text bigger and
smaller.</p>

<h2>C. Info and Help</h2>

<p>These blue buttons give you access to information, help and
preferences. The <em>Info</em> button will open up the information window which
contains information about Sonic Pi itself - the core team, history,
contributors and community. The <em>Help</em> button toggles the help system
(<em>G</em>) and the <em>Prefs</em> button toggles the preferences window which allows
you to control some basic system parameters.</p>

<h2>D. Code Editor</h2>

<p>This is the area where you'll write your code and compose/perform
music. It's a simple text editor where you can write code, delete it,
cut and paste, etc. Think of it like a very basic version of Word or
Google Docs. The editor will automatically colour words based on their
meaning in the code. This may seem strange at first, but you'll soon
find it very useful. For example, you'll know something is a number
because it is blue.</p>

<h2>E. Prefs Panel</h2>

<p>Sonic Pi supports a number of tweakable preferences which can be
accessed by toggling the <em>prefs</em> button in the Info and Help button
set. This will toggle the visibility of the Prefs Panel which includes a
number of options to be changed. Examples are forcing mono mode,
inverting stereo, toggling log output verbosity and also a volume slider
and audio selector on the Raspberry Pi.</p>

<h2>F. Log Viewer</h2>

<p>When you run your code, information about what the program is doing will
be displayed in the log viewer. By default, you'll see a message for
every sound you create with the exact time the sound was triggered. This
is very useful for debugging your code and understanding what your code
is doing.</p>

<h2>G. Help System</h2>

<p>One of the most important parts of the Sonic Pi interface is
the help system which appears at the bottom of the window. This can be
toggled on and off by clicking on the blue <em>Help</em> button. The help
system contains help and information about all aspects of Sonic Pi
including this tutorial, a list of available synths, samples, examples,
FX and a full list of all the functions Sonic Pi provides for coding
music.</p>

<h2>H. Scope Viewer</h2>

<p>The scope viewer allows you to see the sound you're hearing. You can
easily see that the saw wave looks like a saw and that the basic beep is
a curvey sine wave. You can also see the difference between loud and
quiet sounds by the size of the lines. There are 3 scopes to play with -
the default is a combined scope for the left and right channels, there
is a stereo scope which draws a separate scope for each channel. Finally
there is a Lissajous curve scope which will show the phase relationship
between the left and right channels and allows you to draw pretty
pictures with sound (https://en.wikipedia.org/wiki/Lissajous_curve).</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>1.3 Learning through Play</p>

<h1>Learning through Play</h1>

<p>Sonic Pi encourages you to learn about both computing and music through
play and experimentation. The most important thing is that you're having
fun, and before you know it you'll have accidentally learned how to
code, compose and perform.</p>

<h2>There are no mistakes</h2>

<p>Whilst we're on this subject, let me just give you one piece of advice
I've learned over my years of live coding with music - <em>there are no
mistakes, only opportunities</em>. This is something I've often heard in
relation to jazz but it works equally well with live coding. No matter
how experienced you are - from a complete beginner to a seasoned
live coder, you'll run some code that has a completely unexpected
outcome. It might sound insanely cool - in which case run with
it. However, it might sound totally jarring and out of place. It doesn't
matter that it happened - what matters is what you do next with it. Take
the sound, manipulate it and morph it into something awesome. The crowd
will go <em>wild</em>.</p>

<h2>Start Simple</h2>

<p>When you're learning, it's tempting to want to do amazing things
<em>now</em>. However, just hold that thought and see it as a distant goal to
reach <em>later</em>. For now, instead think of the <em>simplest</em> thing you could
write which would be fun and rewarding that's a small step towards the
amazing thing you have in your head. Once you have an idea about that
simple step, then try and build it, play with it and then see what new
ideas it gives you. Before long you'll be too busy having fun and making
real progress. </p>

<p>Just make sure to share your work with others!</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>2.1 Your First Beeps</p>

<h1>Your First Beeps</h1>

<p>Take a look at the following code:</p>

<p><code>
play 70
</code></p>

<p>This is where it all starts. Go ahead, copy and paste it into the code
window at the top of the app (the big white space under the Run
button). Now, press Run...</p>

<h2>Beep!</h2>

<p>Intense. Press it again. And again. <em>And again...</em></p>

<p>Woah, crazy, I'm sure you could keep doing that all day. But wait,
before you lose yourself in an infinite stream of beeps, try changing
the number:</p>

<p><code>
play 75
</code></p>

<p>Can you hear the difference? Try a lower number:</p>

<p><code>
play 60
</code></p>

<p>So, lower numbers make lower pitched beeps and higher numbers make
higher pitched beeps. Just like on a piano, the keys at the lower part
of the piano (the left hand side) play lower notes and the keys on the
higher part of the piano (the right hand side) play higher notes. In
fact, the numbers actually relate to notes on the piano. <code>play 47</code>
actually means play the 47th note on the piano. Which means that <code>play 48</code>
is one note up (the next note to the right). It just so happens that
the 4th octave C is number 60. Go ahead and play it: <code>play 60</code>.</p>

<p><em>Don't worry</em> if this means nothing to you - it didn't to me when I
first started. All that matters right now is that you know that <em>low
numbers make lower beeps</em> and <em>high numbers make higher beeps</em>.</p>

<h2>Chords</h2>

<p>Playing a note is quite fun, but playing many at the same time can be
even better. Try it:</p>

<p><code>
play 72
play 75
play 79
</code></p>

<p>Jazzy! So, when you write multiple <code>play</code>s, they all play at the same
time. Try it for yourself - which numbers sound good together? Which
sound terrible? Experiment, explore and find out for yourself.</p>

<h2>Melody</h2>

<p>So, playing notes and chords is fun - but how about a melody? What if
you wanted to play one note after another and not at the same time?
Well, that's easy, you just need to <code>sleep</code> between the notes:</p>

<p><code>
play 72
sleep 1
play 75
sleep 1
play 79
</code></p>

<p>How lovely, a little arpeggio. So what does the <code>1</code> mean in <code>sleep 1</code>?
Well it means the <em>duration of the sleep</em>. It actually means sleep for
one beat, but for now we can think about it as sleeping for 1
second. So, what if we wanted to make our arpeggio a little faster?
Well, we need to use shorter sleep values. What about a half i.e. <code>0.5</code>:</p>

<p><code>
play 72
sleep 0.5
play 75
sleep 0.5
play 79
</code></p>

<p>Notice how it plays faster. Now, try for yourself, change the times -
use different times and notes.</p>

<p>One thing to try is in-between notes such as <code>play 52.3</code> and <code>play 52.63</code>. 
There's absolutely no need to stick to standard whole notes. Play 
around and have fun.</p>

<h2>Traditional Note Names</h2>

<p>For those of you that already know some musical notation (don't worry if
you don't - you don't need it to have fun) you might want to write a
melody using note names such as C and F# rather than numbers. Sonic Pi
has you covered. You can do the following:</p>

<p><code>
play :C
sleep 0.5
play :D
sleep 0.5
play :E
</code></p>

<p>Remember to put the colon <code>:</code> in front of your note name so that it
goes pink. Also, you can specify the octave by adding a number after
the note name:</p>

<p><code>
play :C3
sleep 0.5
play :D3
sleep 0.5
play :E4
</code></p>

<p>If you want to make a note sharp, add an <code>s</code> after the note name such as
<code>play :Fs3</code> and if you want to make a note flat, add a <code>b</code> such as <code>play :Eb3</code>.</p>

<p>Now go <em>crazy</em> and have fun making your own tunes.</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>2.2 Synth Options</p>

<h1>Synth Options: Amp and Pan</h1>

<p>As well as allowing you to control which note to play or which sample to
trigger, Sonic Pi provides a whole range of options to craft and
control the sounds. We'll be covering many of these in this tutorial and
there's extensive documentation for each in the help system. However,
for now we'll introduce two of the most useful: <em>amplitude</em> and <em>pan</em>.
First, let's look at what options actually are.</p>

<h2>Options</h2>

<p>Sonic Pi supports the notion of options (or opts for short) for its
synths. Opts are controls you pass to <code>play</code> which modify and
control aspects of the sound you hear. Each synth has its own set of
opts for finely tuning its sound. However, there are common sets
of opts shared by many sounds such as <code>amp:</code> and envelope
opts (covered in another section).</p>

<p>Opts have two major parts, their name (the name of the control) and
their value (the value you want to set the control at). For example, you
might have a opt called <code>cheese:</code> and want to set it with a value
of <code>1</code>.</p>

<p>Opts are passed to calls to <code>play</code> by using a comma
<code>,</code> and then the name of the opt such as <code>amp:</code> (don't forget the
colon <code>:</code>) and then a space and the value of the opt. For example:</p>

<p><code>
play 50, cheese: 1
</code></p>

<p>(Note that <code>cheese:</code> isn't a valid opt, we're just using it as an example).</p>

<p>You can pass multiple opts by separating them with a comma:</p>

<p><code>
play 50, cheese: 1, beans: 0.5
</code></p>

<p>The order of the opts doesn't matter, so the following is identical:</p>

<p><code>
play 50, beans: 0.5, cheese: 1
</code></p>

<p>Opts that aren't recognised by the synth are just ignored (like
<code>cheese</code> and <code>beans</code> which are clearly ridiculous opt names!)</p>

<p>If you accidentally use the same opt twice with different values, the
last one wins. For example, <code>beans:</code> here will have the value 2 rather
than 0.5:</p>

<p><code>
play 50, beans: 0.5, cheese: 3, eggs: 0.1, beans: 2
</code></p>

<p>Many things in Sonic Pi accept opts, so just spend a little time
learning how to use them and you'll be set! Let's play with our first
opt: <code>amp:</code>.</p>

<h2>Amplitude</h2>

<p>Amplitude is a computer representation of the loudness of a sound. A
<em>high amplitude produces a loud sound</em> and a <em>low amplitude produces a
quiet sound</em>. Just as Sonic Pi uses numbers to represent time and notes,
it uses numbers to represent amplitude. An amplitude of 0 is silent
(you'll hear nothing) whereas an amplitude of 1 is normal volume. You
can even crank up the amplitude higher to 2, 10, 100. However, you
should note that when the overall amplitude of all the sounds gets too
high, Sonic Pi uses what's called a compressor to squash them all to
make sure things aren't too loud for your ears. This can often make the
sound muddy and strange. So try to use low amplitudes, i.e. in the range
0 to 0.5 to avoid compression.</p>

<h2>Amp it up</h2>

<p>To change the amplitude of a sound, you can use the <code>amp:</code>
opt. For example, to play at half amplitude pass 0.5:</p>

<p><code>
play 60, amp: 0.5
</code></p>

<p>To play at double amplitude pass 2:</p>

<p><code>
play 60, amp: 2
</code></p>

<p>The <code>amp:</code> opt only modifies the call to <code>play</code> it's associated
with. So, in this example, the first call to play is at half volume and
the second is back to the default (1):</p>

<p><code>
play 60, amp: 0.5
sleep 0.5
play 65
</code></p>

<p>Of course, you can use different <code>amp:</code> values for each call to play:</p>

<p><code>
play 50, amp: 0.1
sleep 0.25
play 55, amp: 0.2
sleep 0.25
play 57, amp: 0.4
sleep 0.25
play 62, amp: 1
</code></p>

<h2>Panning</h2>

<p>Another fun opt to use is <code>pan:</code> which controls the panning of a
sound in stereo. Panning a sound to the left means that you hear it out
of the left speaker, and panning it to the right means you hear it out
of your right speaker. For our values, we use a -1 to represent fully
left, 0 to represent center and 1 to represent fully right in the stereo
field. Of course, we're free to use any value between -1 and 1 to
control the exact positioning of our sound.</p>

<p>Let's play a beep out of the left speaker:</p>

<p><code>
play 60, pan: -1
</code></p>

<p>Now, let's play it out of the right speaker:</p>

<p><code>
play 60, pan: 1
</code></p>

<p>Finally let's play it back out of the center of both (the default
position):</p>

<p><code>
play 60, pan: 0
</code></p>

<p>Now, go and have fun changing the amplitude and panning of your sounds!</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>2.3 Switching Synths</p>

<h1>Switching Synths</h1>

<p>So far we've had quite a lot of fun making beeps. However, you're
probably starting to get bored of the basic beep noise. Is that all
Sonic Pi has to offer? Surely there's more to live coding than just
playing beeps? Yes there is, and in this section we'll explore some of
the exciting range of sounds that Sonic Pi has to offer.</p>

<h2>Synths</h2>

<p>Sonic Pi has a number of different instruments it calls synths (which is
<em>short for synthesisers</em>). Whereas samples represent pre-recorded
sounds, synths are capable of generating new sounds depending on how you
control them (which we'll explore later in this tutorial). Sonic Pi's
synths are very powerful and expressive and you'll have a lot of fun
exploring and playing with them. First, let's learn how to select the
current synth to use.</p>

<h2>Buzzy saws and prophets</h2>

<p>A fun sound is the <em>saw wave</em> - let's give it a try:</p>

<p><code>
use_synth :saw
play 38
sleep 0.25
play 50
sleep 0.25
play 62
</code></p>

<p>Let's try another sound - the <em>prophet</em>:</p>

<p><code>
use_synth :prophet
play 38
sleep 0.25
play 50
sleep 0.25
play 62
</code></p>

<p>How about combining two sounds. First one after another:</p>

<p><code>
use_synth :saw
play 38
sleep 0.25
play 50
sleep 0.25
use_synth :prophet
play 57
</code></p>

<p>Now multiple sounds at the same time (by not sleeping between successive
calls to <code>play</code>):</p>

<p><code>
use_synth :tb303
play 38
use_synth :dsaw
play 50
use_synth :prophet
play 57
</code></p>

<p>Notice that the <code>use_synth</code> command only affects the following calls to
<code>play</code>. Think of it like a <em>big switch</em> - new calls to <code>play</code> will play
whatever synth it's currently pointing to. You can move the switch to a
new synth with <code>use_synth</code>.</p>

<h2>Discovering Synths</h2>

<p>To see which synths Sonic Pi has for you to play with take a look at the
Synths option in the menu at the bottom of this help screen (between Examples &amp; Fx). There are
over 20 to choose from. Here are a few of my favourites:</p>

<ul>
<li><code>:prophet</code></li>
<li><code>:dsaw</code></li>
<li><code>:fm</code></li>
<li><code>:tb303</code></li>
<li><code>:pulse</code></li>
</ul>

<p>Now play around with <em>switching synths during your music</em>. Have fun
combining synths to make new sounds as well as using different synths
for different sections of your music.</p>
</div>

</div>

<div class=entry>

<div class='content hidden'>

<p>2.4 Duration with Envelopes</p>

<h1>Duration with Envelopes</h1>

<p>In an earlier section, we looked at how we can use the <code>sleep</code> command
to control when to trigger our sounds. However, we haven't yet been able
to control the duration of our sounds.</p>

<p>In order to give us a simple, yet powerful means of <em>controlling the
duration</em> of our sounds, Sonic Pi provides the notion of an <em>ADSR
amplitude envelope</em> (we'll cover what ADSR means later in this
section). An amplitude envelope offers two useful aspects of control:</p>

<ul>
<li>control over the duration of a sound</li>
<li>control over the amplitude of a sound</li>
</ul>

<h2>Duration</h2>

<p>The duration is the length the sound lasts for. A longer duration means
that you hear the sound for longer. Sonic Pi's sounds all have a
controllable amplitude envelope, and the total duration of that envelope
is the duration of the sound. Therefore, by controlling the envelope you
control the duration.</p>

<h2>Amplitude</h2>

<p>The ADSR envelope not only controls duration, it also gives you <em>fine
control over the amplitude of the sound</em>. All audible sounds start and
end silent and contain some non-silent part in-between. Envelopes allow
you to slide and hold the amplitude of non-silent parts of the
sound. It's like giving someone instructions on how to turn up and down
the volume of a guitar amplifier. For example you might ask someone to
"start at silence, slowly move up to full volume, hold it for a bit,
then quickly fall back to silence." Sonic Pi allows you to program
exactly this behaviour with envelopes.</p>

<p>Just to recap, as we have seen before, an amplitude of 0 is silence and
an amplitude of 1 is normal volume.</p>

<p>Now, let us look at each of the parts of the envelopes in turn.</p>

<h2>Release Phase</h2>

<p>The only part of the envelope that's used by default is the release
time. This is the time it takes for the synth's sound to fade out. All
synths have a release time of 1 which means that by default they have a
duration of 1 beat (which at the default BPM of 60 is 1 second):</p>

<p><code>
play 70
</code></p>

<p>The note will be audible for 1 second.  Go ahead and time it :-) This is
short hand for the longer more explicit version:</p>

<p><code>
play 70, release: 1
</code></p>

<p>Notice how this sounds exactly the same (the sound lasts for one
second). However, it's now very easy to change the duration by modifying
the value of the <code>release:</code> opt:</p>

<p><code>
play 60, release: 2
</code></p>

<p>We can make the synth sound for a very short amount of time by using a
very small release time:</p>

<p><code>
play 60, release: 0.2
</code></p>

<p>The duration of the release of the sound is called the <em>release phase</em>
and by default is a linear transition (i.e. a straight line). The
following diagram illustrates this transition:</p>

<p><img src="assets/img/env-release.png" alt="release envelope" title="" /></p>

<p>The vertical line at the far left of the diagram shows that the sound
starts at 0 amplitude, but goes up to full amplitude immediately (this
is the attack phase which we'll cover next). Once at full amplitude it
then moves in a straight line down to zero taking the amount of time
specified by <code>release:</code>.  <em>Longer release times produce longer synth
fade outs.</em></p>

<p>You can therefore change the duration of your sound by changing the
release time. Have a play adding release times to your music.</p>

<h2>Attack Phase</h2>

<p>By default, the <em>attack phase</em> is 0 for all synths which means they move
from 0 amplitude to 1 immediately. This gives the synth an initial
percussive sound. However, you may wish to fade your sound in. This can
be achieved with the <code>attack:</code> opt. Try fading in some sounds:</p>

<p><code>
play 60, attack: 2
sleep 3
play 65, attack: 0.5
</code></p>

<p>You may use multiple opts at the same time. For example for a short
attack and a long release try:</p>

<p><code>
play 60, attack: 0.7, release: 4
</code></p>

<p>This short attack and long release envelope is illustrated in the
following diagram:</p>

<p><img src="assets/img/env-attack-release.png" alt="attack release envelope" title="" /></p>

<p>Of course, you may switch things around. Try a long attack and a short
release:</p>

<p><code>
play 60, attack: 4, release: 0.7
</code></p>

<p><img src="assets/img/env-long-attack-short-release.png" alt="long attack short release envelope" title="" /></p>

<p>Finally, you can also have both short attack and release times for
shorter sounds.</p>

<p><code>
play 60, attack: 0.5, release: 0.5
</code></p>

<p><img src="assets/img/env-short-attack-short-release.png" alt="short attack short release envelope" title="" /></p>

<h2>Sustain Phase</h2>

<p>In addition to specifying attack and release times, you may also specify
a sustain time to control the <em>sustain phase</em>. This is the time for
which the sound is maintained at full amplitude between the attack and
release phases.</p>

<p><code>
play 60, attack: 0.3, sustain: 1, release: 1
</code></p>

<p><img src="assets/img/env-attack-sustain-release.png" alt="ASR envelope" title="" /></p>

<p>The sustain time is useful for important sounds you wish to give full
presence in the mix before entering an optional release phase. Of
course, it's totally valid to set both the <code>attack:</code> and <code>release:</code> opts
to 0 and just use the sustain to have absolutely no fade in or fade out
to the sound. However, be warned, a release of 0 can produce clicks in
the audio and it's often better to use a very small value such as 0.2.</p>

<h2>Decay Phase</h2>

<p>For an extra level of control, you can also specify a decay time. This
is a phase of the envelope that fits between the attack and sustain
phases and specifies a time where the amplitude will drop from the
<code>attack_level:</code> to the <code>decay_level:</code> (which unless you explicitly set
it will be set to the <code>sustain_level:</code>). By default, the <code>decay:</code> opt is
0 and both the attack and sustain levels are 1 so you'll need to specify
them for the decay time to have any effect:</p>

<p><code>
play 60, attack: 0.1, attack_level: 1, decay: 0.2, sustain_level: 0.4, sustain: 1, release: 0.5
</code></p>

<p><img src="assets/img/env-attack-decay-sustain-release.png" alt="ADSR envelope" title="" /></p>

<h2>Decay Level</h2>

<p>One last trick is that although the <code>decay_level:</code> opt defaults to be
the same value as <code>sustain_level:</code> you can explicitly set them to
different values for full control over the envelope. This allows you to
to create envelopes such as the following:</p>

<p><code>
play 60, attack: 0.1, attack_level: 1, decay: 0.2, decay_level: 0.3, sustain: 1, sustain_level: 0.4, release: 0.5
</code></p>

<p><img src="assets/img/env-decay-level.png" alt="ASR envelope" title="" /></p>

<p>It's also possible to set the <code>decay_level:</code> to be higher than <code>sustain_level:</code>:</p>

<p><code>
play 60, attack: 0.1, attack_level: 0.1, decay: 0.2, decay_level: 1, sustain: 0.5, sustain_level: 0.8, release: 1.5
</code></p>

<p><img src="assets/img/env-decay-level-2.png" alt="ASR envelope" title="" /></p>

<h2>ADSR Envelopes</h2>

<p>So to summarise, Sonic Pi's ADSR envelopes have the following phases:</p>

<ol>
<li><em>attack</em> - time from 0 amplitude to the <code>attack_level</code>,</li>
<li><em>decay</em> - time to move amplitude from <code>attack_level</code> to <code>decay_level</code>,</li>
<li><em>sustain</em> - time to move the amplitude from <code>decay_level</code> to <code>sustain_level</code>,</li>
<li><em>release</em> - time to move amplitude from <code>sustain_level</code> to 0</li>
</ol>

<p>It's important to note that the duration of a sound is the summation of
the times of each of these phases. Therefore the following sound will
have a duration of 0.5 + 1 + 2 + 0.5 = 4 beats:</p>

<p><code>
play 60, attack: 0.5, attack_level: 1, decay: 1, sustain_level: 0.4, sustain: 2, release: 0.5
</code></p>

<p>Now go and have a play adding envelopes to your sounds...</p>
</div>

</div>

</div>

